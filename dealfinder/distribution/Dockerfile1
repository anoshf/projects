FROM dockerfile/java:oracle-java8
# MAINTAINER AF Coder <afcodingprojects@gmail.com>

RUN apt-get update && apt-get install && apt-get clean 
# && \
# mkdir -p /data/resources/passes/ && mkdir /logs/ && \
# chmod -R 777 /logs/ /data/resources/passes

# Your webapp file must be at the same location as your Dockerfile
ADD target/dealfinder*.jar /data/dealfinder.jar
ADD src/main/resources/ /data/resources/
# ADD distribution/sumologic/ /configs/sumologic/
# ADD distribution/newrelic/newrelic.yml /data/
ADD distribution/scripts/run.sh /data/run.sh
RUN ["chmod", "a+x", "/data/run.sh"]

VOLUME /configs
VOLUME /logs

EXPOSE 8080

ENTRYPOINT ["/data/run.sh"]
